# JSX là gì?

> `JSX` là 1 cú pháp mở rộng trong `JavaScript`, cho phép viết `HTML-like code` trong file js

> `JSX` trông giống `HTML`, nhưng không phải là `HTML`. Đoạn code JSX sẽ được biên dịch thành `React.createEelement`

Ví dụ:

```js
import React from "react";

const title = <h1>Hello World</h1>;
```

Sẽ được biên dịch thành

```js
import React from "react";

const title = React.createElement("h1", {}, "Hello World");
```

Note:

1. JSX là cú pháp rút gọn cho React.createElement
2. JSX không phải là 1 phần của trình duyệt
3. JSX không cần phải thêm vào React
4. JSX có thể sử dụng với DOM tương tự React.createElement

# Thuộc tính (attributes)

-   Thuộc tính trong JSX được truyền làm props trong React.createElement
-   Sử dụng className thay vì class
-   Khi đặt giá trị của attribute là chuỗi, cần đặt giá trị của attribute trong cặp dấu ngoặc kép

Ví dụ:

```js
const title = (
    <h1 id="brand-title" className="primary-color">
        Supermarket
    </h1>
);
```

Sẽ được biên dịch sang React.createElement

```js
const title = React.createElement(
    "h1",
    {
        id: "brand-title",
        className: "primary-color"
    },
    "Supermarket"
);
```

# Làm việc với JSX

## Gán JSX cho biến

```js
const title = <h1 className="title">Supermarket</h1>;
```

## Trả về JSX từ hàm

```js
function getTitle() {
    return <h1 className="title">Supermarket</h1>;
}
```

## Trả về JSX khác nhau theo điều kiện

```js
function getTitle(is_open) {
    if (is_open) {
        return <h1 className="title">Supermarket</h1>;
    } else {
        return <h1 className="title">Supermarket (closed)</h1>;
    }
}
```

# Biểu thức JSX

Có thể sử dụng biểu thức trong JSX bằng các đóng gói trong dấu ngoặc `{ }`

Ví dụ

```js
const title = <h1>You have {2 + 3} notifications</h1>;
```

Ngoài ra, có thể sử dụng biến, hàm hoặc các biểu thức JavaScript khác

```js
const user = {
    id: 1,
    name: "Sam"
};

const element = <p className="user-info">Welcome {user.name}!</p>;
```

```js
function capitalise(word) {
    return word[0].toUpperCase() + word.substring(1).toLowerCase();
}
const name = "brendan";

const element = <p className="user-info">Welcome {capitalise(name)}</p>;
```

# Biểu thức thuộc tính

Các thuộc tính (attributes) cũng có thể nhậ giá trị từ các biểu thức (thường là biến)

Ví dụ

```js
const limit = 5;

const element = <input type="number" max={limit} />;
```

Lưu ý không đưa biểu thức vào dấu ngoặc kép vì sẽ bị chuyển thành string

```js
<input max="{limit}" />
```

# Biểu thức thuộc tính động

Khi thuộc tính có 1 phần giá trị là động thì phải coi toàn bộ thuộc tính đó là 1 giá trị động

Ví dụ

```js
<li id="item-1"></li>
<li id="item-2"></li>
<li id="item-3"></li>
```

Giá trị 1, 2, 3 sẽ thay đổi, còn chuỗi item không thay đổi, nhưng phải coi toàn bộ chuỗi `item-x` là 1 giá trị động

```js
<li id={`item-${count}`}>
```

# Phần tử con của JSX

Để biểu diễn 1 phần tử có các phần tử con trong JSX, sử dụng cú pháp:

```js
const getList = () => {
    return (
        <ul>
            <li>First Item</li>
            <li>Second Item</li>
        </ul>
    );
};
```

Lưu ý luôn đóng gói các phần tử JSX bằng `( )` khi viết JSX sau 1 lệnh return

# Thẻ tự đóng

Trong JSX cần sử dụng cú pháp thẻ tự đóng cho các thẻ HTML tự đóng

```js
const image = <img src="image.png" />;
```

# Trả về nhiều element bằng JSX Fragment

Khi trả về các phần tử trong JSX, chỉ có thể trả về 1 phần tử 1 lần. Nếu muốn trả nhiều phần tử trong 1 lần, phải sử dụng React Fragment để đóng gói các phần tử đó lại

```html
<h1>Grocery delivered to your door</h1>
<h2>Free delivery</h2>
<p>Get started now!</p>
```

```js
function getHeroBanner() {
    return (
        <React.Fragment>
            <h1>Grocery delivered to your door</h1>
            <h2>Free delivery</h2>
            <p>Get started now!</p>
        </React.Fragment>
    );
}
```

React.Fragment có thể viết ngắn gọn hơn thành `<>` và `</>`

```js
function getHeroBanner() {
    return (
        <>
            <h1>Grocery delivered to your door</h1>
            <h2>Free delivery</h2>
            <p>Get started now!</p>
        </>
    );
}
```
